'use client';

'use client';

import { useState, useEffect } from 'react';  // 🔥 useEffect 추가!
import { useRouter } from 'next/navigation';
import { auth, db } from '@/lib/firebase';
import { collection, addDoc, serverTimestamp } from 'firebase/firestore';

const ADMIN_EMAILS = ['medws@naver.com'];

// 렌탈 분쟁사례 30개
const rentalCases = [
  {
    title: "렌터카 반납 시 기존 스크래치로 50만원 청구됨",
    content: `제주도 여행을 위해 렌터카를 빌렸습니다. 차량 인수 시 직원이 "빨리 나가세요"라며 재촉해서 사진을 제대로 못 찍었습니다.

반납 시 조수석 문에 작은 스크래치가 있다며 50만원을 청구했습니다. 제가 낸 것이 아니라고 항변했지만, Before 사진이 없어서 증명할 방법이 없었습니다.

결국 보험 처리하면서 자기부담금 30만원을 물게 되었습니다. 사진 한 장이면 막을 수 있었던 억울한 비용입니다.`,
  },
  {
    title: "차량 하부 손상으로 100만원 청구, Before 사진이 없어 증명 불가",
    content: `렌터카를 3일간 빌려서 강원도 여행을 다녀왔습니다. 반납 후 일주일 뒤 연락이 왔습니다. "차량 하부에 손상이 있어 수리비 100만원이 필요하다"고 했습니다.

저는 비포장도로를 간 적이 없는데, 하부 손상이 있다니 황당했습니다. 하지만 인수 시 하부를 촬영하지 않았기 때문에 기존 손상인지 증명할 방법이 없었습니다.

렌터카 회사는 "고객님 사용 기간에 발생한 것이 확실하다"며 강하게 나왔고, 결국 70만원을 협의 금액으로 지불했습니다.`,
  },
  {
    title: "소액 스크래치인데 전액 수리비 80만원 청구받음",
    content: `부산 출장에서 렌터카를 이용했습니다. 반납 시 뒤 범퍼에 5cm 정도의 작은 스크래치를 발견했습니다.

저는 주차장에서 살짝 긁힌 것 같다고 솔직하게 말했습니다. 그런데 렌터카 회사에서는 "범퍼 전체를 교체해야 한다"며 80만원을 청구했습니다.

작은 흠집인데 전체 교체가 필요하다는 게 이해가 안 갔지만, 제가 낸 손상이라 어쩔 수 없이 지불했습니다. 다른 견적을 받아볼 걸 후회합니다.`,
  },
  {
    title: "타이어 찍힘을 몰랐는데 퇴실 시 발견되어 40만원 청구",
    content: `렌터카로 제주도 해안도로를 달렸습니다. 반납 시 타이어 측면에 찍힌 흔적이 있다며 40만원을 청구했습니다.

저는 언제 찍혔는지 전혀 기억이 없고, 도로 주행만 했기 때문에 황당했습니다. 하지만 인수 시 타이어를 꼼꼼히 확인하지 않았기 때문에 증명할 방법이 없었습니다.

결국 타이어 4개를 모두 교체하는 비용으로 40만원을 지불했습니다. 차량 인수 시 타이어까지 촬영해야 한다는 걸 처음 알았습니다.`,
  },
  {
    title: "범퍼 스크래치로 도색 비용 70만원 청구됨",
    content: `강릉 여행에서 렌터카를 빌렸습니다. 차량 인수 시 급하게 출발하느라 사진을 몇 장만 대충 찍었습니다.

반납 시 앞 범퍼에 10cm 스크래치가 있다며 도색 비용 70만원을 청구했습니다. 저는 그런 손상을 낸 기억이 없어서 기존 손상이라고 주장했지만, 제가 찍은 사진에는 앞 범퍼가 제대로 안 나왔습니다.

결국 증명할 방법이 없어 보험 처리하고 자기부담금 50만원을 물었습니다.`,
  },
  {
    title: "휠 스크래치 수리비 60만원, 사진 없어 항변 불가",
    content: `서울에서 렌터카를 빌려 경주로 여행을 다녀왔습니다. 반납 시 휠에 스크래치가 있다며 60만원을 청구했습니다.

저는 주차 시 연석에 살짝 닿은 것 같긴 한데, 이 정도로 큰 금액이 나올 줄 몰랐습니다. 게다가 인수 시에도 비슷한 흠집이 있었던 것 같은데 사진이 없어서 확인할 수 없었습니다.

결국 휠 4개를 모두 교체하는 비용으로 지불했습니다.`,
  },
  {
    title: "실내 오염으로 청소비 30만원 청구",
    content: `가족 여행으로 렌터카를 빌렸습니다. 아이들이 간식을 먹어서 실내가 조금 지저분했지만, 청소기로 대충 청소하고 반납했습니다.

그런데 렌터카 회사에서 "심각한 오염으로 특수 청소가 필요하다"며 30만원을 청구했습니다. 인수 시 실내 상태를 촬영하지 않아서 원래 어느 정도 더러웠는지 증명할 수 없었습니다.

결국 협의해서 15만원을 지불했지만, 억울한 마음은 그대로입니다.`,
  },
  {
    title: "사이드미러 파손으로 90만원 청구, 기존 손상 의심",
    content: `부산 출장에서 렌터카를 2일 빌렸습니다. 반납 시 조수석 사이드미러에 금이 가 있다며 교체 비용 90만원을 청구했습니다.

저는 사이드미러를 부딪친 기억이 전혀 없습니다. 아마 인수 전부터 금이 있었던 것 같은데, 세밀하게 확인하지 않아서 증명할 수 없었습니다.

렌터카 회사는 "고객님이 사용하신 기간에 파손되었다"며 강하게 나왔고, 결국 전액을 지불했습니다.`,
  },
  {
    title: "후방 카메라 작동 불량으로 20만원 청구",
    content: `제주 렌터카를 빌렸는데, 후방 카메라가 잘 안 보였습니다. 그래도 후방 센서가 있어서 큰 불편 없이 사용했습니다.

반납 후 "후방 카메라가 파손되었다"며 20만원을 청구했습니다. 저는 처음부터 작동이 이상했다고 항변했지만, 인수 시 영상으로 기록하지 않아서 증명할 방법이 없었습니다.

결국 수리비를 지불했습니다. 차량 인수 시 모든 기능을 영상으로 남겨야 한다는 걸 뼈저리게 느꼈습니다.`,
  },
  {
    title: "트렁크 내부 스크래치로 25만원 청구",
    content: `강원도 캠핑을 위해 렌터카를 빌렸습니다. 캠핑 장비를 실으면서 트렁크를 사용했습니다.

반납 시 트렁크 내부에 스크래치가 있다며 25만원을 청구했습니다. 저는 조심히 사용했고, 원래 있던 흠집일 가능성도 있다고 생각했지만 사진이 없어서 증명 불가했습니다.

결국 협의 금액 15만원을 지불했습니다.`,
  },
  {
    title: "헤드라이트 김서림으로 교체 비용 55만원",
    content: `서울에서 렌터카를 빌렸습니다. 반납 시 헤드라이트에 습기가 차 있다며 교체 비용 55만원을 청구했습니다.

저는 습기가 언제 생긴 건지 전혀 모릅니다. 야간 주행도 거의 하지 않았습니다. 하지만 인수 시 헤드라이트 상태를 확인하지 않아서 기존 문제인지 증명할 방법이 없었습니다.

결국 전액을 지불했습니다.`,
  },
  {
    title: "도어 흠집으로 판금 비용 65만원 청구",
    content: `부산 여행에서 렌터카를 빌렸습니다. 반납 시 운전석 도어에 작은 찌그러짐이 있다며 판금 비용 65만원을 청구했습니다.

저는 도어를 부딪친 기억이 없고, 아마 원래 있던 손상일 것 같은데 인수 시 꼼꼼히 확인하지 않아서 증명할 수 없었습니다.

협의 끝에 40만원을 지불했지만, 억울한 마음은 여전합니다.`,
  },
  {
    title: "본넷 페인트 손상으로 재도색 80만원",
    content: `제주 렌터카를 일주일 빌렸습니다. 반납 시 본넷에 페인트가 벗겨진 부분이 있다며 재도색 비용 80만원을 청구했습니다.

저는 어디서 벗겨졌는지 전혀 기억이 없습니다. 아마 주차장에서 누군가 긁고 간 것 같은데, Before 사진이 없어서 확인할 방법이 없었습니다.

결국 보험 처리하고 자기부담금 50만원을 지불했습니다.`,
  },
  {
    title: "블랙박스 SD카드 분실로 30만원 청구",
    content: `렌터카를 빌렸는데, 반납 후 블랙박스 SD카드가 없다며 30만원을 청구했습니다.

저는 SD카드를 건드린 적이 없고, 인수 시에도 있었는지 확인하지 않았습니다. 렌터카 회사는 "고객님 사용 기간에 분실되었다"며 교체 비용을 청구했습니다.

억울했지만 증명할 방법이 없어 지불했습니다.`,
  },
  {
    title: "키 스크래치로 교체 비용 45만원",
    content: `렌터카 키에 스크래치가 있다며 스마트키 교체 비용 45만원을 청구받았습니다.

저는 키를 조심히 다뤘고, 원래 있던 흠집일 수도 있다고 생각했지만 인수 시 키 상태를 촬영하지 않아서 증명할 수 없었습니다.

협의 끝에 20만원을 지불했습니다.`,
  },
  {
    title: "에어컨 냄새로 살균 비용 15만원",
    content: `여름에 렌터카를 빌렸습니다. 반납 시 에어컨에서 냄새가 난다며 살균 비용 15만원을 청구했습니다.

저는 에어컨을 많이 사용하긴 했지만 냄새가 난다는 건 몰랐습니다. 인수 시 에어컨 상태를 확인하지 않아서 원래 냄새가 났는지 증명할 수 없었습니다.

결국 전액을 지불했습니다.`,
  },
  {
    title: "시트 오염으로 커버 교체 40만원",
    content: `가족 여행으로 렌터카를 빌렸습니다. 반납 시 시트에 얼룩이 있다며 시트 커버 교체 비용 40만원을 청구했습니다.

저는 음료수를 흘린 기억이 없고, 아마 원래 있던 얼룩일 것 같은데 인수 시 시트를 자세히 확인하지 않아서 증명할 방법이 없었습니다.

협의해서 25만원을 지불했습니다.`,
  },
  {
    title: "휠 캡 분실로 교체 비용 20만원",
    content: `렌터카를 빌렸는데, 반납 시 휠 캡 하나가 없다며 20만원을 청구했습니다.

저는 휠 캡이 언제 없어졌는지 전혀 모릅니다. 인수 시 4개가 다 있었는지 확인하지 않아서 증명할 수 없었습니다.

결국 전액을 지불했습니다.`,
  },
  {
    title: "와이퍼 교체 비용 12만원 청구",
    content: `렌터카를 빌렸는데, 반납 시 와이퍼가 낡았다며 교체 비용 12만원을 청구했습니다.

저는 와이퍼를 거의 사용하지 않았고, 원래 낡은 상태였을 가능성이 높다고 생각했지만 Before 사진이 없어서 증명 불가했습니다.

결국 지불했습니다.`,
  },
  {
    title: "사이드 스커트 파손으로 70만원",
    content: `제주 렌터카를 빌렸습니다. 반납 시 사이드 스커트가 파손되었다며 70만원을 청구했습니다.

저는 사이드를 부딪친 기억이 없고, 아마 연석에 살짝 닿은 정도인 것 같은데 이렇게 큰 금액이 나올 줄 몰랐습니다.

Before 사진이 없어서 증명할 수 없어 전액을 지불했습니다.`,
  },
  {
    title: "루프 안테나 파손으로 35만원",
    content: `렌터카를 빌렸는데, 반납 시 루프 안테나가 휘어져 있다며 35만원을 청구했습니다.

저는 지하 주차장만 이용했고 안테나를 건드린 적이 없습니다. 원래 휘어져 있었을 수도 있는데 인수 시 확인하지 않아 증명 불가했습니다.

결국 지불했습니다.`,
  },
  {
    title: "뒷좌석 발판 오염으로 청소비 18만원",
    content: `아이들과 여행을 다녀왔습니다. 반납 시 뒷좌석 발판이 심하게 오염되었다며 특수 청소 비용 18만원을 청구했습니다.

저는 나름 청소하고 반납했는데, 인수 시 발판 상태를 촬영하지 않아서 원래 어땠는지 증명할 수 없었습니다.

협의해서 10만원을 지불했습니다.`,
  },
  {
    title: "보조 미러 파손으로 25만원",
    content: `렌터카 선바이저에 있는 보조 미러가 파손되었다며 25만원을 청구받았습니다.

저는 보조 미러를 거의 사용하지 않았고, 원래 파손되어 있었을 수도 있는데 인수 시 확인하지 않아서 증명할 수 없었습니다.

결국 전액을 지불했습니다.`,
  },
  {
    title: "핸드브레이크 작동 불량으로 55만원",
    content: `렌터카를 빌렸는데, 반납 후 핸드브레이크 작동이 불량하다며 수리비 55만원을 청구했습니다.

저는 핸드브레이크를 거의 사용하지 않았고, 인수 시에도 작동을 확인하지 않아서 원래 불량이었는지 증명할 수 없었습니다.

협의해서 30만원을 지불했습니다.`,
  },
  {
    title: "엔진룸 커버 파손으로 40만원",
    content: `렌터카를 빌렸는데, 반납 시 엔진룸 하단 커버가 파손되었다며 40만원을 청구했습니다.

저는 험한 길을 가지 않았고, 원래 파손되어 있었을 가능성이 높다고 생각했지만 Before 사진이 없어서 증명 불가했습니다.

결국 전액을 지불했습니다.`,
  },
  {
    title: "선루프 작동 불량으로 120만원",
    content: `고급 렌터카를 빌렸습니다. 반납 후 선루프 작동이 불량하다며 수리비 120만원을 청구했습니다.

저는 선루프를 한 번도 사용하지 않았습니다. 인수 시 작동을 확인하지 않아서 원래 불량이었는지 증명할 수 없었습니다.

결국 보험 처리하고 자기부담금 80만원을 지불했습니다.`,
  },
  {
    title: "USB 포트 파손으로 30만원",
    content: `렌터카를 빌렸는데, 반납 시 USB 포트가 파손되었다며 30만원을 청구했습니다.

저는 USB 충전기를 조심히 사용했고, 원래 헐거웠을 가능성도 있는데 인수 시 확인하지 않아서 증명할 수 없었습니다.

협의해서 15만원을 지불했습니다.`,
  },
  {
    title: "주유구 커버 파손으로 20만원",
    content: `렌터카를 빌렸는데, 반납 시 주유구 커버가 제대로 닫히지 않는다며 20만원을 청구했습니다.

저는 주유할 때 조심히 사용했고, 원래 불량이었을 수도 있는데 Before 사진이 없어서 증명 불가했습니다.

결국 전액을 지불했습니다.`,
  },
  {
    title: "계기판 경고등으로 수리비 95만원",
    content: `렌터카 반납 후 계기판에 경고등이 들어왔다며 수리비 95만원을 청구받았습니다.

저는 운행 중 경고등이 켜진 적이 없고, 인수 시 계기판 상태를 촬영하지 않아서 원래 문제가 있었는지 증명할 수 없었습니다.

보험 처리하고 자기부담금 50만원을 지불했습니다.`,
  },
  {
    title: "내비게이션 화면 스크래치로 60만원",
    content: `렌터카를 빌렸는데, 반납 시 내비게이션 화면에 스크래치가 있다며 교체 비용 60만원을 청구했습니다.

저는 내비게이션을 손으로 건드린 적이 거의 없고, 원래 있던 스크래치일 가능성이 높다고 생각했지만 Before 사진이 없어서 증명 불가했습니다.

협의해서 35만원을 지불했습니다.`,
  },
];

// 부동산 분쟁사례 30개
const houseCases = [
  {
    title: "전세 퇴거 시 벽지 교체비 200만원 청구됨 - 입주 전 사진 없음",
    content: `2년 전세 계약이 끝나고 퇴거했습니다. 집주인이 "벽지가 너무 더러워서 전체 교체가 필요하다"며 200만원을 보증금에서 공제하겠다고 했습니다.

저는 깨끗하게 사용했고, 입주할 때부터 벽지가 좀 낡아 있었던 것 같은데 입주 전 사진이 없어서 증명할 수 없었습니다.

결국 협의해서 120만원을 공제하고 보증금을 돌려받았지만, 억울한 마음은 여전합니다.`,
  },
  {
    title: "보증금 100만원 못 받음, 사진 기록이 없어서",
    content: `월세 계약이 끝나고 퇴거했습니다. 집주인이 "싱크대, 화장실, 벽면 등 여러 곳에 손상이 있다"며 보증금 100만원 전액을 돌려주지 않았습니다.

저는 입주 전부터 있던 손상들이라고 항변했지만, Before 사진이 없어서 증명할 방법이 없었습니다.

결국 법적 대응도 어려워 포기했습니다. 입주 전 사진 한 장씩만 찍어뒀어도 막을 수 있었을텐데 너무 억울합니다.`,
  },
  {
    title: "싱크대 물때를 원상복구 명목으로 50만원 청구",
    content: `1년 월세 계약 후 퇴거했습니다. 집주인이 싱크대에 물때가 심하다며 교체 비용 50만원을 청구했습니다.

저는 나름 관리했다고 생각했는데, 입주할 때도 물때가 좀 있었던 것 같은데 사진이 없어서 확인할 수 없었습니다.

협의 끝에 30만원을 공제하고 보증금을 받았습니다.`,
  },
  {
    title: "에어컨 청소 비용 30만원 요구받음",
    content: `전세 계약이 끝나고 퇴거했습니다. 집주인이 에어컨이 너무 더럽다며 특수 청소 비용 30만원을 청구했습니다.

저는 에어컨 필터는 정기적으로 청소했는데, 내부까지는 어떻게 해야 할지 몰랐습니다. 입주 시 에어컨 내부 상태를 확인하지 않아서 원래 어땠는지 증명할 수 없었습니다.

결국 20만원을 공제하고 보증금을 받았습니다.`,
  },
  {
    title: "베란다 바닥 변색으로 80만원 청구됨",
    content: `2년 월세 계약 후 퇴거했습니다. 집주인이 베란다 바닥이 변색되었다며 재시공 비용 80만원을 청구했습니다.

저는 베란다에 화분을 놓았었는데, 입주할 때부터 바닥이 일부 변색되어 있었던 것 같은데 Before 사진이 없어서 증명할 수 없었습니다.

협의해서 50만원을 공제하고 보증금을 받았습니다.`,
  },
  {
    title: "방문 흠집으로 교체 비용 60만원",
    content: `전세 계약 종료 후 퇴거했습니다. 집주인이 방문에 흠집이 많다며 교체 비용 60만원을 청구했습니다.

저는 조심히 사용했고, 일부 흠집은 입주 전부터 있었던 것 같은데 입주 시 문 상태를 촬영하지 않아서 증명할 방법이 없었습니다.

결국 40만원을 공제당했습니다.`,
  },
  {
    title: "화장실 타일 깨짐으로 70만원 청구",
    content: `월세 계약 종료 후 퇴거했습니다. 집주인이 화장실 타일 일부가 깨졌다며 교체 비용 70만원을 청구했습니다.

저는 타일이 깨진 기억이 없고, 입주할 때 이미 금이 가 있었던 것 같은데 Before 사진이 없어서 확인할 수 없었습니다.

협의해서 45만원을 공제하고 보증금을 받았습니다.`,
  },
  {
    title: "주방 후드 기름때로 교체 비용 40만원",
    content: `2년 전세 계약 종료 후 퇴거했습니다. 집주인이 주방 후드에 기름때가 심하다며 교체 비용 40만원을 청구했습니다.

저는 요리를 자주 했지만 나름 청소했다고 생각했습니다. 하지만 입주 시 후드 상태를 확인하지 않아서 원래 어땠는지 증명할 수 없었습니다.

결국 25만원을 공제당했습니다.`,
  },
  {
    title: "현관문 잠금장치 불량으로 50만원",
    content: `월세 계약 종료 후 퇴거했습니다. 집주인이 현관문 잠금장치가 고장났다며 수리비 50만원을 청구했습니다.

저는 잠금장치를 거칠게 사용한 적이 없고, 원래 불량이었을 가능성도 있는데 Before 영상이 없어서 증명 불가했습니다.

협의해서 30만원을 공제하고 보증금을 받았습니다.`,
  },
  {
    title: "붙박이장 손잡이 파손으로 35만원",
    content: `전세 계약 종료 후 퇴거했습니다. 집주인이 붙박이장 손잡이가 하나 파손되었다며 전체 교체 비용 35만원을 청구했습니다.

저는 손잡이 하나만 교체하면 될 것 같은데 전체를 교체해야 한다는 게 이해가 안 갔습니다. Before 사진이 없어서 협상력이 약했고, 결국 전액을 공제당했습니다.`,
  },
  {
    title: "거실 마루 긁힘으로 재시공 120만원",
    content: `2년 전세 계약 종료 후 퇴거했습니다. 집주인이 거실 마루에 긁힌 자국이 많다며 재시공 비용 120만원을 청구했습니다.

저는 가구를 옮기면서 조심했는데, 일부 긁힘은 입주 전부터 있었던 것 같습니다. 하지만 Before 사진이 없어서 증명할 수 없었습니다.

협의해서 80만원을 공제당했습니다.`,
  },
  {
    title: "보일러 청소 비용 25만원 청구",
    content: `월세 계약 종료 후 퇴거했습니다. 집주인이 보일러가 더럽다며 청소 비용 25만원을 청구했습니다.

저는 보일러 청소를 어떻게 하는지 몰랐고, 입주 시 보일러 상태를 확인하지 않아서 원래 어땠는지 증명할 수 없었습니다.

결국 전액을 공제당했습니다.`,
  },
  {
    title: "샤워기 수압 약화로 교체 비용 20만원",
    content: `전세 계약 종료 후 퇴거했습니다. 집주인이 샤워기 수압이 약해졌다며 교체 비용 20만원을 청구했습니다.

저는 수압이 원래 약했던 것 같은데, 입주 시 샤워기 작동 상태를 영상으로 남기지 않아서 증명할 수 없었습니다.

결국 15만원을 공제당했습니다.`,
  },
  {
    title: "창틀 곰팡이로 교체 비용 55만원",
    content: `월세 계약 종료 후 퇴거했습니다. 집주인이 창틀에 곰팡이가 심하다며 교체 비용 55만원을 청구했습니다.

저는 환기를 자주 했는데도 곰팡이가 생겼습니다. 입주할 때 이미 약간 있었던 것 같은데 Before 사진이 없어서 확인할 수 없었습니다.

협의해서 35만원을 공제당했습니다.`,
  },
  {
    title: "가스레인지 교체 비용 45만원",
    content: `2년 전세 계약 종료 후 퇴거했습니다. 집주인이 가스레인지가 낡았다며 교체 비용 45만원을 청구했습니다.

저는 가스레인지를 조심히 사용했고, 원래 낡은 상태로 입주했던 것 같은데 Before 사진이 없어서 증명 불가했습니다.

결국 30만원을 공제당했습니다.`,
  },
  {
    title: "전등 교체 비용 18만원 청구",
    content: `월세 계약 종료 후 퇴거했습니다. 집주인이 전등 몇 개가 나갔다며 교체 비용 18만원을 청구했습니다.

저는 전등이 나간 줄 몰랐고, 원래 나가 있었을 가능성도 있는데 입주 시 모든 전등 작동 상태를 확인하지 않아서 증명할 수 없었습니다.

결국 전액을 공제당했습니다.`,
  },
  {
    title: "옷장 내부 습기로 재도장 비용 30만원",
    content: `전세 계약 종료 후 퇴거했습니다. 집주인이 옷장 내부에 습기로 인한 손상이 있다며 재도장 비용 30만원을 청구했습니다.

저는 옷장을 정상적으로 사용했고, 환기도 했는데 습기가 생긴 것 같습니다. 입주 시 옷장 내부를 촬영하지 않아서 원래 상태를 증명할 수 없었습니다.

협의해서 20만원을 공제당했습니다.`,
  },
  {
    title: "인덕션 작동 불량으로 60만원",
    content: `월세 계약 종료 후 퇴거했습니다. 집주인이 인덕션 작동이 불량하다며 교체 비용 60만원을 청구했습니다.

저는 인덕션을 거의 사용하지 않았고, 원래 불량이었을 가능성이 높다고 생각했지만 Before 영상이 없어서 증명 불가했습니다.

결국 40만원을 공제당했습니다.`,
  },
  {
    title: "세탁기 배수구 막힘으로 수리비 15만원",
    content: `전세 계약 종료 후 퇴거했습니다. 집주인이 세탁기 배수구가 막혔다며 수리비 15만원을 청구했습니다.

저는 배수구를 정기적으로 청소했다고 생각했는데, 입주 시 배수구 상태를 확인하지 않아서 원래 어땠는지 증명할 수 없었습니다.

결국 전액을 공제당했습니다.`,
  },
  {
    title: "수도꼭지 녹 발생으로 교체 비용 22만원",
    content: `월세 계약 종료 후 퇴거했습니다. 집주인이 수도꼭지에 녹이 슬었다며 교체 비용 22만원을 청구했습니다.

저는 수도꼭지가 원래 오래된 것이라 녹이 슬 수밖에 없는 상태였던 것 같은데, Before 사진이 없어서 증명 불가했습니다.

협의해서 15만원을 공제당했습니다.`,
  },
  {
    title: "방충망 파손으로 교체 비용 12만원",
    content: `전세 계약 종료 후 퇴거했습니다. 집주인이 방충망이 여러 곳 찢어졌다며 교체 비용 12만원을 청구했습니다.

저는 방충망을 조심히 사용했고, 일부는 입주 전부터 파손되어 있었던 것 같은데 Before 사진이 없어서 증명할 수 없었습니다.

결국 전액을 공제당했습니다.`,
  },
  {
    title: "욕조 변색으로 재코팅 비용 65만원",
    content: `2년 월세 계약 종료 후 퇴거했습니다. 집주인이 욕조가 변색되었다며 재코팅 비용 65만원을 청구했습니다.

저는 욕조를 정상적으로 사용했는데, 입주할 때부터 약간 변색되어 있었던 것 같습니다. Before 사진이 없어서 증명 불가했습니다.

협의해서 40만원을 공제당했습니다.`,
  },
  {
    title: "싱크대 상판 얼룩으로 교체 비용 70만원",
    content: `전세 계약 종료 후 퇴거했습니다. 집주인이 싱크대 상판에 얼룩이 심하다며 교체 비용 70만원을 청구했습니다.

저는 요리 후 바로 닦았는데, 얼룩의 일부는 입주 전부터 있었던 것 같습니다. Before 사진이 없어서 증명할 수 없었습니다.

협의해서 45만원을 공제당했습니다.`,
  },
  {
    title: "장판 손상으로 교체 비용 90만원",
    content: `월세 계약 종료 후 퇴거했습니다. 집주인이 방 장판이 여러 곳 찢어졌다며 전체 교체 비용 90만원을 청구했습니다.

저는 가구를 조심히 옮겼는데, 일부 손상은 입주 전부터 있었던 것 같습니다. Before 사진이 없어서 증명 불가했습니다.

협의해서 60만원을 공제당했습니다.`,
  },
  {
    title: "현관 신발장 문짝 휘어짐으로 50만원",
    content: `전세 계약 종료 후 퇴거했습니다. 집주인이 현관 신발장 문짝이 휘어졌다며 교체 비용 50만원을 청구했습니다.

저는 신발장을 조심히 사용했고, 원래 약간 휘어져 있었던 것 같은데 Before 사진이 없어서 증명할 수 없었습니다.

협의해서 30만원을 공제당했습니다.`,
  },
  {
    title: "천장 곰팡이로 재도장 비용 85만원",
    content: `2년 월세 계약 종료 후 퇴거했습니다. 집주인이 천장에 곰팡이가 생겼다며 재도장 비용 85만원을 청구했습니다.

저는 환기를 자주 했는데도 곰팡이가 생겼습니다. 습한 환경 때문인 것 같은데, 입주 시 천장 상태를 촬영하지 않아서 증명 불가했습니다.

협의해서 55만원을 공제당했습니다.`,
  },
  {
    title: "베란다 창문 잠금 불량으로 35만원",
    content: `월세 계약 종료 후 퇴거했습니다. 집주인이 베란다 창문 잠금장치가 고장났다며 수리비 35만원을 청구했습니다.

저는 창문을 거칠게 사용한 적이 없고, 원래 불량이었을 가능성도 있는데 Before 영상이 없어서 증명 불가했습니다.

협의해서 20만원을 공제당했습니다.`,
  },
  {
    title: "거실 에어컨 냉매 부족으로 충전 비용 28만원",
    content: `전세 계약 종료 후 퇴거했습니다. 집주인이 에어컨 냉매가 부족하다며 충전 비용 28만원을 청구했습니다.

저는 에어컨을 정상적으로 사용했고, 원래 냉매가 부족했을 가능성도 있는데 입주 시 확인하지 않아서 증명 불가했습니다.

결국 전액을 공제당했습니다.`,
  },
  {
    title: "화장실 수전 누수로 교체 비용 32만원",
    content: `월세 계약 종료 후 퇴거했습니다. 집주인이 화장실 수전에서 물이 샌다며 교체 비용 32만원을 청구했습니다.

저는 수전을 조심히 사용했고, 원래 약간 낡아서 샐 수 있는 상태였던 것 같은데 Before 영상이 없어서 증명 불가했습니다.

협의해서 20만원을 공제당했습니다.`,
  },
  {
    title: "드레스룸 선반 파손으로 교체 비용 42만원",
    content: `전세 계약 종료 후 퇴거했습니다. 집주인이 드레스룸 선반이 파손되었다며 전체 교체 비용 42만원을 청구했습니다.

저는 선반에 무거운 물건을 올린 적이 없고, 원래 약했을 가능성도 있는데 Before 사진이 없어서 증명 불가했습니다.

협의해서 25만원을 공제당했습니다.`,
  },
];

export default function InitSamplesPage() {
  const router = useRouter();
  const [loading, setLoading] = useState(false);
  const [isAdmin, setIsAdmin] = useState(false);
  const [message, setMessage] = useState('');

  useEffect(() => {
    const user = auth.currentUser;
    if (!user || !ADMIN_EMAILS.includes(user.email || '')) {
      alert('관리자만 접근 가능합니다.');
      router.push('/dashboard');
    } else {
      setIsAdmin(true);
    }
  }, [router]);

  const handleInitRentalCases = async () => {
    if (!confirm('렌탈 분쟁사례 30개를 생성하시겠습니까?')) return;

    setLoading(true);
    setMessage('렌탈 분쟁사례 생성 중...');

    try {
      const user = auth.currentUser;
      if (!user) return;

      let count = 0;
      for (const caseData of rentalCases) {
        await addDoc(collection(db, 'boards', 'rental-cases', 'posts'), {
          userId: user.uid,
          userNickname: '관리자',
          title: caseData.title,
          content: caseData.content,
          timestamp: serverTimestamp(),
          comments: [],
          views: 0,
        });
        count++;
        setMessage(`렌탈 분쟁사례 생성 중... (${count}/30)`);
      }

      alert('렌탈 분쟁사례 30개가 생성되었습니다!');
      setMessage('');
    } catch (error) {
      console.error('생성 실패:', error);
      alert('생성에 실패했습니다.');
    } finally {
      setLoading(false);
    }
  };

  const handleInitHouseCases = async () => {
    if (!confirm('부동산 분쟁사례 30개를 생성하시겠습니까?')) return;

    setLoading(true);
    setMessage('부동산 분쟁사례 생성 중...');

    try {
      const user = auth.currentUser;
      if (!user) return;

      let count = 0;
      for (const caseData of houseCases) {
        await addDoc(collection(db, 'boards', 'house-cases', 'posts'), {
          userId: user.uid,
          userNickname: '관리자',
          title: caseData.title,
          content: caseData.content,
          timestamp: serverTimestamp(),
          comments: [],
          views: 0,
        });
        count++;
        setMessage(`부동산 분쟁사례 생성 중... (${count}/30)`);
      }

      alert('부동산 분쟁사례 30개가 생성되었습니다!');
      setMessage('');
    } catch (error) {
      console.error('생성 실패:', error);
      alert('생성에 실패했습니다.');
    } finally {
      setLoading(false);
    }
  };

  const handleInitAll = async () => {
    if (!confirm('모든 샘플 데이터 60개를 생성하시겠습니까?')) return;

    await handleInitRentalCases();
    await handleInitHouseCases();
  };

  if (!isAdmin) return null;

  return (
    <div className="min-h-screen bg-gray-50 py-12">
      <div className="max-w-2xl mx-auto px-4">
        <div className="bg-white rounded-lg shadow-lg p-8">
          <h1 className="text-2xl font-bold text-center mb-2">샘플 데이터 생성</h1>
          <p className="text-center text-gray-600 mb-8">관리자 전용 페이지</p>

          <div className="space-y-4">
            <button
              onClick={handleInitRentalCases}
              disabled={loading}
              className="w-full py-4 bg-orange-500 text-white rounded-lg font-medium hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition"
            >
              🚗 렌탈 분쟁사례 30개 생성
            </button>

            <button
              onClick={handleInitHouseCases}
              disabled={loading}
              className="w-full py-4 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition"
            >
              🏠 부동산 분쟁사례 30개 생성
            </button>

            <button
              onClick={handleInitAll}
              disabled={loading}
              className="w-full py-4 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition"
            >
              ✨ 전체 60개 한 번에 생성
            </button>

            <button
              onClick={() => router.push('/dashboard')}
              disabled={loading}
              className="w-full py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition"
            >
              대시보드로 돌아가기
            </button>
          </div>

          {message && (
            <div className="mt-6 p-4 bg-blue-50 rounded-lg">
              <p className="text-center text-blue-800 font-medium">{message}</p>
            </div>
          )}

          <div className="mt-8 bg-yellow-50 rounded-lg p-4">
            <h3 className="font-medium text-yellow-800 mb-2">⚠️ 주의사항</h3>
            <ul className="text-sm text-yellow-700 space-y-1">
              <li>• 각 버튼을 한 번씩만 클릭하세요</li>
              <li>• 생성하는 데 약 1-2분 소요됩니다</li>
              <li>• 중복 생성 시 같은 내용이 여러 개 생깁니다</li>
              <li>• 생성 후 이 페이지는 삭제하셔도 됩니다</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  );
}